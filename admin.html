<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>College Canteen - Admin Panel</title>
  <style>
    html, body {
      height: 100%;
      margin: 0; padding: 0;
      display: flex;
      flex-direction: column;
      font-family: "Poppins", sans-serif;
      background: linear-gradient(180deg, #ffb347, #ff6b6b);
      color: #333;
    }

    nav {
      flex-shrink: 0;
      background: #fffaf4;
      padding: 12px 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      position: sticky;
      top: 0;
      z-index: 50;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      position: relative;
      min-height: 60px;
    }
    .logo {
      font-weight: 900;
      font-size: 1.5rem;
      color: #d35400;
      user-select: none;
      flex-shrink: 0;
      white-space: nowrap;
    }
    .menu-toggle {
      display: flex;
      background: #e67e22;
      border-radius: 24px;
      overflow: hidden;
      font-weight: bold;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      flex-grow: 1;
      max-width: 300px;
      min-width: 200px;
    }
    .menu-toggle button {
      flex: 1;
      padding: 12px 16px;
      font-size: 14px;
      color: white;
      background: transparent;
      border: none;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    .menu-toggle button.active {
      background: #c0392b;
    }
    .search-container {
      flex-grow: 2;
      min-width: 160px;
      max-width: 350px;
    }
    .search-container input[type="search"] {
      width: 100%;
      padding: 12px 16px;
      border-radius: 20px;
      border: 2px solid #f39c12;
      font-size: 15px;
      box-sizing: border-box;
      outline: none;
      transition: border-color 0.3s ease;
    }
    .search-container input[type="search"]:focus {
      border-color: #e67e22;
    }
    .user-profile {
      font-size: 1.9rem;
      user-select: none;
      cursor: pointer;
      flex-shrink: 0;
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: #e67e22;
      color: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      position: relative;
    }

    .profile-popup {
      position: absolute;
      top: 60px;
      right: 0;
      width: 300px;
      background: #fffaf4;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      padding: 20px;
      box-sizing: border-box;
      z-index: 100;
      display: none;
      flex-direction: column;
      border: 2px solid #f39c12;
    }
    .profile-popup.show {
      display: flex;
    }
    .profile-popup h3 {
      margin: 0 0 15px 0;
      font-weight: 800;
      color: #d35400;
      font-size: 1.3rem;
      text-align: center;
      border-bottom: 2px solid #ffdca6;
      padding-bottom: 10px;
    }
    .profile-info {
      margin-bottom: 20px;
    }
    .profile-info p {
      margin: 8px 0;
      font-size: 0.9rem;
      font-weight: 600;
      color: #4e342e;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .profile-info .label {
      color: #d35400;
      font-weight: 700;
    }
    .profile-info .value {
      color: #3e2723;
      font-weight: 600;
    }
    .profile-buttons {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .profile-btn {
      width: 100%;
      padding: 12px 0;
      font-weight: 700;
      font-size: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      color: white;
      transition: background-color 0.3s ease;
    }
    .profile-btn.change-password {
      background: #e67e22;
    }
    .profile-btn.change-password:hover {
      background: #ca6b18;
    }
    .profile-btn.logout {
      background: #d35400;
    }
    .profile-btn.logout:hover {
      background: #b84300;
    }

    /* Mobile 3-dot menu in nav */
    .nav-more-button {
      display: none;
      background: transparent;
      border: none;
      font-size: 28px;
      color: #6d4c41;
      cursor: pointer;
      user-select: none;
      padding: 6px 8px;
      border-radius: 8px;
      transition: background-color 0.3s;
      position: relative;
      z-index: 60;
      margin-left: 8px;
    }
    .nav-more-button:hover {
      background: #ffd27d;
    }
    .dropdown-menu {
      position: absolute;
      top: 100%;
      right: 0;
      background: #ffcc80;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      padding: 8px 0;
      min-width: 180px;
      z-index: 75;
      display: none;
      flex-direction: column;
    }
    .dropdown-menu.show {
      display: flex;
    }
    .dropdown-menu button {
      border: none;
      background: none;
      width: 100%;
      text-align: left;
      padding: 14px 20px;
      font-weight: 700;
      font-size: 14px;
      color: #4e342e;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .dropdown-menu button:hover {
      background: #ffb74d;
    }

    /* Desktop Grid Layout */
    main.parent {
      flex-grow: 1;
      min-height: 0;
      width: 100vw;
      max-width: 100vw;
      margin: 0;
      padding: 20px 25px;
      box-sizing: border-box;
      display: grid;
      grid-template-columns: 1.2fr 2fr 1fr;
      grid-template-rows: 1fr 1fr;
      gap: 20px;
      background: #fffaf4;
      border-radius: 0 0 14px 14px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
      color: black;
    }

    /* Grid 1 - Order Details (Left, Full Height) */
    .div1 {
      background: #ffcc80;
      grid-column: 1;
      grid-row: 1 / span 2;
      color: #3e2723;
      font-weight: 700;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      padding: 25px;
      border-radius: 15px;
      box-sizing: border-box;
      min-height: 500px;
    }
    .order-details {
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border: 1px solid rgba(0,0,0,0.05);
    }
    .order-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #f8f9fa;
    }
    .order-id {
      font-size: 1.3rem;
      font-weight: 800;
      color: #d35400;
    }
    .order-time {
      font-size: 0.9rem;
      color: #666;
      font-weight: 500;
    }
    .token-number {
      background: #e67e22;
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 1.1rem;
      font-weight: 800;
      text-align: center;
      margin-bottom: 15px;
      box-shadow: 0 2px 8px rgba(230, 126, 34, 0.3);
    }
    .order-status {
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 700;
      margin-bottom: 15px;
      text-align: center;
    }
    .status-pending {
      background: #ffeaa7;
      color: #e17055;
    }
    .status-preparing {
      background: #74b9ff;
      color: #0984e3;
    }
    .status-ready {
      background: #00b894;
      color: #fff;
    }
    .status-completed {
      background: #6c5ce7;
      color: #fff;
    }
    .customer-info {
      background: #f8f9fa;
      padding: 12px;
      border-radius: 8px;
      margin-bottom: 15px;
    }
    .order-items {
      margin-bottom: 15px;
    }
    .order-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      font-size: 0.95rem;
      border-bottom: 1px solid #eee;
    }
    .order-item:last-child {
      border-bottom: none;
    }
    .order-total {
      font-size: 1.3rem;
      font-weight: 800;
      color: #d35400;
      text-align: right;
      border-top: 2px solid #ddd;
      padding-top: 12px;
      margin-top: 10px;
    }
    .status-buttons {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }
    .status-btn {
      flex: 1;
      padding: 12px 0;
      border: none;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      color: white;
    }
    .btn-accept {
      background: #00b894;
    }
    .btn-accept:hover {
      background: #00a085;
      transform: translateY(-2px);
    }
    .btn-ready {
      background: #0984e3;
    }
    .btn-ready:hover {
      background: #0770c4;
      transform: translateY(-2px);
    }
    .btn-complete {
      background: #6c5ce7;
    }
    .btn-complete:hover {
      background: #5f4cd1;
      transform: translateY(-2px);
    }

    /* Grid 2 - Dashboard Stats (Top Middle) */
    .div2 {
      background: #ffdca6;
      grid-column: 2;
      grid-row: 1;
      border-radius: 15px;
      padding: 25px;
      box-sizing: border-box;
      overflow-y: auto;
      font-weight: 600;
      font-size: 1rem;
      color: #4e342e;
      min-height: 300px;
    }
    .div2 h3 {
      margin-top: 0;
      margin-bottom: 20px;
      color: #d35400;
      font-size: 1.4rem;
    }
    .stat-cards {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }
    .stat-card {
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border: 1px solid rgba(0,0,0,0.05);
      transition: transform 0.3s ease;
    }
    .stat-card:hover {
      transform: translateY(-3px);
    }
    .stat-number {
      font-size: 2.2rem;
      font-weight: 800;
      color: #d35400;
      display: block;
      margin-bottom: 5px;
    }
    .stat-label {
      font-size: 0.95rem;
      color: #666;
      font-weight: 600;
    }
    .quick-stats {
      background: #fff;
      padding: 18px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      border: 1px solid rgba(0,0,0,0.05);
    }

    /* Grid 3 - Active Orders Queue (Top Right) */
    .div3 {
      background: #ffdca6;
      grid-column: 3;
      grid-row: 1;
      padding: 25px;
      border-radius: 15px;
      display: flex;
      flex-direction: column;
      position: relative;
      box-sizing: border-box;
      overflow-y: auto;
      min-height: 300px;
    }
    .queue-title {
      font-size: 1.4rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: #b71c1c;
      text-align: center;
    }
    .queue-item {
      background: #fff;
      padding: 15px;
      margin-bottom: 12px;
      border-radius: 10px;
      border-left: 4px solid #e67e22;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .queue-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    }
    .queue-order-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .queue-order-id {
      font-weight: 800;
      color: #d35400;
      font-size: 1rem;
    }
    .queue-token {
      background: #e67e22;
      color: white;
      padding: 4px 10px;
      border-radius: 12px;
      font-size: 0.8rem;
      font-weight: 700;
    }
    .queue-time {
      font-size: 0.85rem;
      color: #666;
    }
    .queue-items-count {
      font-size: 0.9rem;
      color: #333;
      margin-top: 5px;
      font-weight: 600;
    }

    /* Grid 4 - Notifications (Bottom Right) */
    .div4 {
      background: #ffdca6;
      grid-column: 3;
      grid-row: 2;
      border-radius: 15px;
      padding: 25px;
      box-sizing: border-box;
      overflow-y: auto;
      font-weight: 600;
      font-size: 1rem;
      color: #4e342e;
      min-height: 300px;
    }
    .div4 h3 {
      margin-top: 0;
      margin-bottom: 20px;
      color: #d35400;
      font-size: 1.4rem;
    }
    .notification {
      background: #fff;
      padding: 15px;
      margin-bottom: 12px;
      border-radius: 10px;
      border-left: 4px solid #f39c12;
      font-size: 0.9rem;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }
    .notification.alert {
      border-left-color: #e74c3c;
    }
    .notification.info {
      border-left-color: #3498db;
    }

    /* Grid 5 - Menu Management (Bottom Middle) */
    .div5 {
      background: #ffe0b2;
      grid-column: 2;
      grid-row: 2;
      font-weight: 700;
      font-size: 1.1rem;
      overflow-y: auto;
      color: #4e342e;
      padding: 25px;
      border-radius: 15px;
      box-sizing: border-box;
      min-height: 300px;
    }
    .div5::-webkit-scrollbar, .div1::-webkit-scrollbar, .div3::-webkit-scrollbar, .div4::-webkit-scrollbar {
      width: 8px;
    }
    .div5::-webkit-scrollbar-thumb, .div1::-webkit-scrollbar-thumb, .div3::-webkit-scrollbar-thumb, .div4::-webkit-scrollbar-thumb {
      background-color: #e67e22;
      border-radius: 10px;
    }
    .menu-item {
      padding: 15px;
      margin: 10px 0;
      cursor: pointer;
      border-radius: 10px;
      transition: background 0.3s ease;
      user-select: none;
      font-size: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: #fff;
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      border: 1px solid rgba(0,0,0,0.05);
    }
    .menu-item:hover, .menu-item.active {
      background: #ffb74d;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
    }
    .menu-item-info {
      flex: 1;
    }
    .menu-item-name {
      font-weight: 700;
      color: #333;
      font-size: 1.05rem;
      margin-bottom: 5px;
    }
    .menu-item-price {
      font-size: 0.95rem;
      color: #d35400;
      font-weight: 600;
    }
    .menu-item-actions {
      display: flex;
      gap: 8px;
    }
    .action-btn {
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      font-size: 0.85rem;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    .btn-edit {
      background: #3498db;
      color: white;
    }
    .btn-edit:hover {
      background: #2980b9;
      transform: translateY(-1px);
    }
    .btn-delete {
      background: #e74c3c;
      color: white;
    }
    .btn-delete:hover {
      background: #c0392b;
      transform: translateY(-1px);
    }
    .btn-toggle {
      background: #f39c12;
      color: white;
    }
    .btn-toggle:hover {
      background: #e67e22;
      transform: translateY(-1px);
    }
    .add-item-btn {
      width: 100%;
      padding: 15px;
      background: #27ae60;
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      margin-bottom: 20px;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(39, 174, 96, 0.3);
    }
    .add-item-btn:hover {
      background: #229954;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 200;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    .modal-content {
      background-color: #fffaf4;
      margin: 3% auto;
      padding: 30px;
      border-radius: 15px;
      width: 90%;
      max-width: 550px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 30px;
      font-weight: bold;
      cursor: pointer;
      line-height: 1;
    }
    .close:hover {
      color: #000;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 700;
      color: #d35400;
      font-size: 1rem;
    }
    .form-group input, .form-group textarea, .form-group select {
      width: 100%;
      padding: 12px;
      border: 2px solid #f39c12;
      border-radius: 8px;
      font-size: 15px;
      box-sizing: border-box;
      outline: none;
      font-family: "Poppins", sans-serif;
    }
    .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
      border-color: #e67e22;
    }
    .modal-buttons {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      margin-top: 25px;
    }
    .modal-btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1rem;
    }
    .btn-save {
      background: #27ae60;
      color: white;
    }
    .btn-save:hover {
      background: #229954;
      transform: translateY(-1px);
    }
    .btn-cancel {
      background: #95a5a6;
      color: white;
    }
    .btn-cancel:hover {
      background: #7f8c8d;
      transform: translateY(-1px);
    }

    /* MOBILE STYLES - IMPROVED RESPONSIVENESS */
    @media (max-width: 768px) {
      nav {
        padding: 10px 12px;
        gap: 8px;
        min-height: 50px;
      }
      .logo {
        font-size: 1.2rem;
      }
      .menu-toggle {
        max-width: 200px;
        min-width: 140px;
      }
      .menu-toggle button {
        font-size: 12px;
        padding: 8px 10px;
        gap: 4px;
      }
      .search-container {
        min-width: 100px;
        max-width: 180px;
      }
      .search-container input[type="search"] {
        padding: 8px 12px;
        font-size: 13px;
      }
      .user-profile {
        font-size: 1.5rem;
        width: 40px;
        height: 40px;
      }
      .nav-more-button {
        display: block;
        font-size: 22px;
        padding: 6px;
      }
      .dropdown-menu {
        top: 50px;
        right: 8px;
        min-width: 160px;
      }
      .profile-popup {
        top: 50px;
        right: 5px;
        width: 280px;
        padding: 18px;
      }

      /* MOBILE GRID - STACK VERTICALLY */
      main.parent {
        display: flex;
        flex-direction: column;
        padding: 12px;
        gap: 15px;
        height: auto;
        min-height: calc(100vh - 70px);
      }
      
      .div1, .div2, .div3, .div4, .div5 {
        grid-column: unset !important;
        grid-row: unset !important;
        min-height: 250px;
        padding: 20px;
      }

      .stat-cards {
        grid-template-columns: 1fr;
        gap: 12px;
      }

      .stat-card {
        padding: 15px;
      }

      .stat-number {
        font-size: 1.8rem;
      }

      .order-details {
        padding: 15px;
      }

      .status-buttons {
        flex-direction: column;
        gap: 8px;
      }

      .menu-item {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
        padding: 12px;
      }

      .menu-item-actions {
        align-self: flex-end;
      }

      .modal-content {
        width: 95%;
        padding: 20px;
        margin: 10% auto;
      }
    }

    @media (max-width: 480px) {
      nav {
        padding: 8px 10px;
        gap: 6px;
      }
      .logo {
        font-size: 1rem;
      }
      .menu-toggle {
        max-width: 160px;
        min-width: 120px;
      }
      .menu-toggle button {
        font-size: 10px;
        padding: 6px 8px;
        gap: 2px;
      }
      .search-container {
        min-width: 80px;
        max-width: 120px;
      }
      .user-profile {
        width: 36px;
        height: 36px;
        font-size: 1.3rem;
      }
      .profile-popup {
        width: 250px;
        padding: 15px;
        top: 45px;
      }

      main.parent {
        padding: 10px;
        gap: 12px;
      }

      .div1, .div2, .div3, .div4, .div5 {
        min-height: 200px;
        padding: 15px;
      }

      .order-details {
        padding: 12px;
      }

      .token-number {
        padding: 6px 12px;
        font-size: 1rem;
      }

      .queue-item {
        padding: 12px;
      }

      .notification {
        padding: 12px;
        font-size: 0.85rem;
      }
    }

    /* New Order Alert Animation */
    @keyframes newOrderAlert {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .new-order {
      animation: newOrderAlert 2s ease-in-out;
      border-left-color: #e74c3c !important;
      box-shadow: 0 5px 20px rgba(231, 76, 60, 0.3) !important;
    }
  </style>
</head>
<body>
  <nav>
    <div class="logo">Canteen Admin</div>
    <div class="menu-toggle" role="tablist" aria-label="Admin Menu Toggle">
      <button id="ordersBtn" class="active" aria-selected="true" tabindex="0" aria-label="Orders Management">📋 Orders</button>
      <button id="menuBtn" aria-selected="false" tabindex="-1" aria-label="Menu Management">🍽️ Menu</button>
      <button id="reportsBtn" aria-selected="false" tabindex="-1" aria-label="Reports">📊 Reports</button>
    </div>
    <div class="search-container">
      <input type="search" id="adminSearch" placeholder="Search orders, items..." aria-label="Search admin" />
    </div>
    <div class="user-profile" title="Admin Profile" aria-label="Admin profile">👨‍💼</div>

    <div class="profile-popup" id="profilePopup">
      <h3>👨‍💼 Admin Profile</h3>
      <div class="profile-info">
        <p><span class="label">Name:</span> <span class="value">Manager Singh</span></p>
        <p><span class="label">Role:</span> <span class="value">Canteen Admin</span></p>
        <p><span class="label">Email:</span> <span class="value">admin@college.edu</span></p>
      </div>
      <div class="profile-buttons">
        <button class="profile-btn change-password" onclick="changePassword()">🔒 Change Password</button>
        <button class="profile-btn logout" onclick="logout()">🚪 Logout</button>
      </div>
    </div>

    <button class="nav-more-button" aria-haspopup="true" aria-expanded="false" aria-label="Open menu options">⋮</button>
    <div class="dropdown-menu" role="menu" aria-label="Additional admin menu">
      <button data-target="2" role="menuitem" tabindex="-1">📈 Dashboard</button>
      <button data-target="3" role="menuitem" tabindex="-1">🔔 Order Queue</button>
      <button data-target="4" role="menuitem" tabindex="-1">📢 Notifications</button>
      <button data-target="5" role="menuitem" tabindex="-1">🍽️ Menu Items</button>
    </div>
  </nav>

  <main class="parent" aria-label="Admin content area">
    <div class="div1" tabindex="0" aria-live="polite">
      <h3 style="margin-top: 0; color: #d35400; font-size: 1.4rem;">📋 Order Management</h3>
      <p style="text-align: center; color: #666; font-size: 1rem;">Select an order from the queue to manage it here.</p>
    </div>

    <div class="div2">
      <h3>📈 Dashboard Overview</h3>
      <div class="stat-cards">
        <div class="stat-card">
          <span class="stat-number" id="todayOrders">28</span>
          <div class="stat-label">Today's Orders</div>
        </div>
        <div class="stat-card">
          <span class="stat-number" id="pendingOrders">5</span>
          <div class="stat-label">Pending Orders</div>
        </div>
        <div class="stat-card">
          <span class="stat-number" id="todayRevenue">₹4,250</span>
          <div class="stat-label">Today's Revenue</div>
        </div>
        <div class="stat-card">
          <span class="stat-number" id="avgTime">8min</span>
          <div class="stat-label">Avg Prep Time</div>
        </div>
      </div>
      <div class="quick-stats">
        <strong>📊 Quick Stats:</strong><br><br>
        • Most Popular: Chicken Biryani (12 orders)<br>
        • Peak Time: 12:30 PM - 1:30 PM<br>
        • Customer Satisfaction: 4.6/5 ⭐<br>
        • Current Token: #T-015
      </div>
    </div>

    <div class="div3">
      <div class="queue-title">🔔 Active Orders</div>
      <div id="orderQueue">
        <div class="queue-item" onclick="showOrderDetails('ORD-001')">
          <div class="queue-order-header">
            <div class="queue-order-id">#ORD-001</div>
            <div class="queue-token">T-012</div>
          </div>
          <div class="queue-time">2 mins ago</div>
          <div class="queue-items-count">3 items • ₹280</div>
        </div>
        <div class="queue-item" onclick="showOrderDetails('ORD-002')">
          <div class="queue-order-header">
            <div class="queue-order-id">#ORD-002</div>
            <div class="queue-token">T-013</div>
          </div>
          <div class="queue-time">5 mins ago</div>
          <div class="queue-items-count">2 items • ₹150</div>
        </div>
        <div class="queue-item" onclick="showOrderDetails('ORD-003')">
          <div class="queue-order-header">
            <div class="queue-order-id">#ORD-003</div>
            <div class="queue-token">T-014</div>
          </div>
          <div class="queue-time">8 mins ago</div>
          <div class="queue-items-count">1 item • ₹80</div>
        </div>
      </div>
    </div>

    <div class="div4">
      <h3>📢 Notifications</h3>
      <div class="notification alert">
        <strong>⚠️ Low Stock Alert:</strong> Paneer Tikka (2 portions left)
      </div>
      <div class="notification info">
        <strong>ℹ️ New Order:</strong> Order #ORD-004 (Token T-015) received
      </div>
      <div class="notification">
        <strong>💰 Payment:</strong> Order #ORD-025 payment confirmed
      </div>
      <div class="notification info">
        <strong>📝 Update:</strong> Menu item "Cold Coffee" added successfully
      </div>
    </div>

    <div class="div5" aria-label="Menu management">
      <h3>🍽️ Menu Management</h3>
      <button class="add-item-btn" onclick="openAddItemModal()">+ Add New Item</button>
      <div id="menuItemsList">
        <!-- Menu items will be populated by JavaScript -->
      </div>
    </div>
  </main>

  <!-- Add/Edit Item Modal -->
  <div id="itemModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeItemModal()">&times;</span>
      <h3 id="modalTitle">Add New Menu Item</h3>
      <form id="itemForm">
        <div class="form-group">
          <label for="itemName">Item Name:</label>
          <input type="text" id="itemName" required>
        </div>
        <div class="form-group">
          <label for="itemPrice">Price (₹):</label>
          <input type="number" id="itemPrice" min="1" required>
        </div>
        <div class="form-group">
          <label for="itemCategory">Category:</label>
          <select id="itemCategory" required>
            <option value="">Select Category</option>
            <option value="veg">Vegetarian</option>
            <option value="nonveg">Non-Vegetarian</option>
            <option value="dessert">Dessert</option>
          </select>
        </div>
        <div class="form-group">
          <label for="itemDescription">Description:</label>
          <textarea id="itemDescription" rows="3" required></textarea>
        </div>
        <div class="form-group">
          <label for="itemImage">Image URL:</label>
          <input type="url" id="itemImage" required>
        </div>
        <div class="form-group">
          <label for="itemAvailable">Available:</label>
          <select id="itemAvailable">
            <option value="true">Yes</option>
            <option value="false">No</option>
          </select>
        </div>
        <div class="modal-buttons">
          <button type="button" class="modal-btn btn-cancel" onclick="closeItemModal()">Cancel</button>
          <button type="submit" class="modal-btn btn-save">Save Item</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Profile popup functionality
    const userProfile = document.querySelector('.user-profile');
    const profilePopup = document.getElementById('profilePopup');

    userProfile.addEventListener('click', (e) => {
      e.stopPropagation();
      document.querySelector('.dropdown-menu').classList.remove('show');
      profilePopup.classList.toggle('show');
    });

    function changePassword() {
      alert('🔒 Change Password functionality will be implemented here!');
      profilePopup.classList.remove('show');
    }

    function logout() {
      if(confirm('🚪 Are you sure you want to logout?')) {
        alert('Logout functionality will be implemented here!');
        profilePopup.classList.remove('show');
      }
    }

    document.addEventListener('click', () => {
      profilePopup.classList.remove('show');
    });

    // Sample menu items data
    let menuItems = [
      {id: 1, name: "Paneer Tikka", price: 120, rating: 4.5, category: "veg", img: "https://i.imgur.com/3mGpB2A.jpg", desc: "Delicious grilled paneer cubes with spices.", available: true},
      {id: 2, name: "Veg Biryani", price: 150, rating: 4.7, category: "veg", img: "https://i.imgur.com/IDgjYpu.jpg", desc: "Fragrant basmati rice cooked with veggies and spices.", available: true},
      {id: 3, name: "Chicken Curry", price: 180, rating: 4.8, category: "nonveg", img: "https://i.imgur.com/vITr1Im.jpg", desc: "Spicy and savory chicken curry.", available: true},
      {id: 4, name: "Gulab Jamun", price: 60, rating: 4.4, category: "dessert", img: "https://i.imgur.com/TXWtYLn.jpg", desc: "Soft and sweet syrup soaked dumplings.", available: false}
    ];

    // Enhanced orders data with token numbers
    const orders = [
      {
        id: 'ORD-001',
        token: 'T-012',
        time: '2 mins ago',
        status: 'pending',
        items: [
          {name: 'Chicken Biryani', qty: 1, price: 190},
          {name: 'Cold Drink', qty: 2, price: 40}
        ],
        total: 270,
        customerName: 'Rahul Kumar',
        studentId: 'CS21B001'
      },
      {
        id: 'ORD-002',
        token: 'T-013',
        time: '5 mins ago',
        status: 'preparing',
        items: [
          {name: 'Paneer Tikka', qty: 1, price: 120},
          {name: 'Masala Dosa', qty: 1, price: 80}
        ],
        total: 200,
        customerName: 'Priya Shah',
        studentId: 'EC21B015'
      },
      {
        id: 'ORD-003',
        token: 'T-014',
        time: '8 mins ago',
        status: 'ready',
        items: [
          {name: 'Veg Biryani', qty: 1, price: 150}
        ],
        total: 150,
        customerName: 'Amit Singh',
        studentId: 'ME21B032'
      }
    ];

    // Token counter
    let currentTokenNumber = 15;

    // Navigation functionality
    const ordersBtn = document.getElementById('ordersBtn');
    const menuBtn = document.getElementById('menuBtn');
    const reportsBtn = document.getElementById('reportsBtn');
    const navMoreBtn = document.querySelector('.nav-more-button');
    const dropdownMenu = document.querySelector('.dropdown-menu');

    ordersBtn.addEventListener('click', () => setActiveTab('orders'));
    menuBtn.addEventListener('click', () => setActiveTab('menu'));
    reportsBtn.addEventListener('click', () => setActiveTab('reports'));

    function setActiveTab(tab) {
      ordersBtn.classList.remove('active');
      menuBtn.classList.remove('active');
      reportsBtn.classList.remove('active');

      if(tab === 'orders') {
        ordersBtn.classList.add('active');
        // Show orders view
      } else if(tab === 'menu') {
        menuBtn.classList.add('active');
        renderMenuItems();
      } else if(tab === 'reports') {
        reportsBtn.classList.add('active');
        // Show reports view
      }
    }

    // Mobile dropdown functionality
    navMoreBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      const expanded = navMoreBtn.getAttribute('aria-expanded') === 'true';
      profilePopup.classList.remove('show');
      
      if(expanded) {
        dropdownMenu.classList.remove('show');
        navMoreBtn.setAttribute('aria-expanded', 'false');
      } else {
        dropdownMenu.classList.add('show');
        navMoreBtn.setAttribute('aria-expanded', 'true');
      }
    });

    document.addEventListener('click', () => {
      dropdownMenu.classList.remove('show');
      navMoreBtn.setAttribute('aria-expanded', 'false');
    });

    // Order management functions
    function showOrderDetails(orderId) {
      const order = orders.find(o => o.id === orderId);
      if (!order) return;

      const detailDiv = document.querySelector('.div1');
      const statusClass = `status-${order.status}`;
      const statusText = order.status.charAt(0).toUpperCase() + order.status.slice(1);
      
      let itemsHTML = order.items.map(item => 
        `<div class="order-item">
          <span>${item.name} x${item.qty}</span>
          <span>₹${item.price * item.qty}</span>
        </div>`
      ).join('');

      let statusButtons = '';
      if (order.status === 'pending') {
        statusButtons = `
          <button class="status-btn btn-accept" onclick="updateOrderStatus('${orderId}', 'preparing')">Accept Order</button>
        `;
      } else if (order.status === 'preparing') {
        statusButtons = `
          <button class="status-btn btn-ready" onclick="updateOrderStatus('${orderId}', 'ready')">Mark Ready</button>
        `;
      } else if (order.status === 'ready') {
        statusButtons = `
          <button class="status-btn btn-complete" onclick="updateOrderStatus('${orderId}', 'completed')">Complete Order</button>
        `;
      }

      detailDiv.innerHTML = `
        <h3 style="margin-top: 0; color: #d35400; font-size: 1.4rem;">📋 Order Details</h3>
        <div class="order-details">
          <div class="order-header">
            <div class="order-id">${order.id}</div>
            <div class="order-time">${order.time}</div>
          </div>
          <div class="token-number">🎫 Token: ${order.token}</div>
          <div class="order-status ${statusClass}">${statusText}</div>
          <div class="customer-info">
            <strong>Customer:</strong> ${order.customerName}<br>
            <strong>Student ID:</strong> ${order.studentId}
          </div>
          <div class="order-items">
            <strong>Items Ordered:</strong>
            ${itemsHTML}
          </div>
          <div class="order-total">Total: ₹${order.total}</div>
          <div class="status-buttons">
            ${statusButtons}
          </div>
        </div>
      `;
    }

    function updateOrderStatus(orderId, newStatus) {
      const order = orders.find(o => o.id === orderId);
      if (order) {
        order.status = newStatus;
        showOrderDetails(orderId);
        
        // Update queue display
        const queueItem = document.querySelector(`[onclick="showOrderDetails('${orderId}')"]`);
        if (newStatus === 'completed' && queueItem) {
          queueItem.remove();
        }
        
        // Update stats
        updateDashboardStats();
        
        // Show notification based on status
        let message = '';
        if (newStatus === 'preparing') {
          message = `Order ${order.token} is now being prepared`;
        } else if (newStatus === 'ready') {
          message = `Order ${order.token} is ready for pickup!`;
        } else if (newStatus === 'completed') {
          message = `Order ${order.token} has been completed`;
        }
        
        alert(`✅ ${message}`);
      }
    }

    function updateDashboardStats() {
      const pendingCount = orders.filter(o => o.status === 'pending').length;
      document.getElementById('pendingOrders').textContent = pendingCount;
    }

    // Simulate new order arrival
    function simulateNewOrder() {
      currentTokenNumber++;
      const newOrderId = `ORD-${String(Date.now()).slice(-3)}`;
      const newToken = `T-${String(currentTokenNumber).padStart(3, '0')}`;
      
      const newOrder = {
        id: newOrderId,
        token: newToken,
        time: 'Just now',
        status: 'pending',
        items: [
          {name: 'Sample Item', qty: 1, price: 100}
        ],
        total: 100,
        customerName: 'New Customer',
        studentId: 'XX21BXXX'
      };
      
      orders.unshift(newOrder);
      
      // Update queue display
      const queueDiv = document.getElementById('orderQueue');
      const newQueueItem = document.createElement('div');
      newQueueItem.className = 'queue-item new-order';
      newQueueItem.onclick = () => showOrderDetails(newOrderId);
      newQueueItem.innerHTML = `
        <div class="queue-order-header">
          <div class="queue-order-id">#${newOrderId}</div>
          <div class="queue-token">${newToken}</div>
        </div>
        <div class="queue-time">Just now</div>
        <div class="queue-items-count">1 item • ₹100</div>
      `;
      
      queueDiv.insertBefore(newQueueItem, queueDiv.firstChild);
      
      // Update stats
      updateDashboardStats();
      const todayOrdersEl = document.getElementById('todayOrders');
      todayOrdersEl.textContent = parseInt(todayOrdersEl.textContent) + 1;
      
      // Show notification
      alert(`🔔 New Order Received!\nToken: ${newToken}\nOrder ID: ${newOrderId}`);
    }

    // Menu management functions
    function renderMenuItems() {
      const menuItemsList = document.getElementById('menuItemsList');
      menuItemsList.innerHTML = menuItems.map(item => `
        <div class="menu-item">
          <div class="menu-item-info">
            <div class="menu-item-name">${item.name} ${item.category === 'veg' ? '🌱' : item.category === 'nonveg' ? '🍖' : '🍰'}</div>
            <div class="menu-item-price">₹${item.price} • ${item.available ? 'Available' : 'Out of Stock'}</div>
          </div>
          <div class="menu-item-actions">
            <button class="action-btn btn-edit" onclick="editItem(${item.id})">Edit</button>
            <button class="action-btn btn-toggle" onclick="toggleAvailability(${item.id})">
              ${item.available ? 'Disable' : 'Enable'}
            </button>
            <button class="action-btn btn-delete" onclick="deleteItem(${item.id})">Delete</button>
          </div>
        </div>
      `).join('');
    }

    // Modal functions
    let currentEditingId = null;

    function openAddItemModal() {
      document.getElementById('modalTitle').textContent = 'Add New Menu Item';
      document.getElementById('itemForm').reset();
      currentEditingId = null;
      document.getElementById('itemModal').style.display = 'block';
    }

    function closeItemModal() {
      document.getElementById('itemModal').style.display = 'none';
      currentEditingId = null;
    }

    function editItem(id) {
      const item = menuItems.find(i => i.id === id);
      if (!item) return;

      document.getElementById('modalTitle').textContent = 'Edit Menu Item';
      document.getElementById('itemName').value = item.name;
      document.getElementById('itemPrice').value = item.price;
      document.getElementById('itemCategory').value = item.category;
      document.getElementById('itemDescription').value = item.desc;
      document.getElementById('itemImage').value = item.img;
      document.getElementById('itemAvailable').value = item.available.toString();
      
      currentEditingId = id;
      document.getElementById('itemModal').style.display = 'block';
    }

    function deleteItem(id) {
      if (confirm('Are you sure you want to delete this item?')) {
        menuItems = menuItems.filter(i => i.id !== id);
        renderMenuItems();
        alert('✅ Item deleted successfully!');
      }
    }

    function toggleAvailability(id) {
      const item = menuItems.find(i => i.id === id);
      if (item) {
        item.available = !item.available;
        renderMenuItems();
        alert(`✅ Item ${item.available ? 'enabled' : 'disabled'} successfully!`);
      }
    }

    // Form submission
    document.getElementById('itemForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = {
        name: document.getElementById('itemName').value,
        price: parseInt(document.getElementById('itemPrice').value),
        category: document.getElementById('itemCategory').value,
        desc: document.getElementById('itemDescription').value,
        img: document.getElementById('itemImage').value,
        available: document.getElementById('itemAvailable').value === 'true'
      };

      if (currentEditingId) {
        // Edit existing item
        const item = menuItems.find(i => i.id === currentEditingId);
        if (item) {
          Object.assign(item, formData);
          alert('✅ Item updated successfully!');
        }
      } else {
        // Add new item
        const newItem = {
          id: Math.max(...menuItems.map(i => i.id)) + 1,
          rating: 4.0,
          ...formData
        };
        menuItems.push(newItem);
        alert('✅ Item added successfully!');
      }

      renderMenuItems();
      closeItemModal();
    });

    // Close modal when clicking outside
    window.addEventListener('click', function(e) {
      const modal = document.getElementById('itemModal');
      if (e.target === modal) {
        closeItemModal();
      }
    });

    // Mobile dropdown content functionality
    dropdownMenu.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        const target = btn.getAttribute('data-target');
        showMobileContent(target);
      });
    });

    function showMobileContent(target) {
      dropdownMenu.classList.remove('show');
      navMoreBtn.setAttribute('aria-expanded', 'false');
      
      const detailDiv = document.querySelector('.div1');
      switch(target) {
        case '2':
          detailDiv.innerHTML = document.querySelector('.div2').innerHTML;
          break;
        case '3':
          detailDiv.innerHTML = document.querySelector('.div3').innerHTML;
          break;
        case '4':
          detailDiv.innerHTML = document.querySelector('.div4').innerHTML;
          break;
        case '5':
          detailDiv.innerHTML = document.querySelector('.div5').innerHTML;
          break;
      }
    }

    // Initialize
    renderMenuItems();

    // Simulate new order every 30 seconds for demo
    setInterval(simulateNewOrder, 30000);

    // Auto-refresh notifications
    function updateNotifications() {
      const notifications = document.querySelector('.div4');
      // This would typically fetch new notifications from server
    }

    setInterval(updateNotifications, 10000);
  </script>
</body>
</html>
